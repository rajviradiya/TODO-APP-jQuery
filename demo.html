<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Multiple Timers</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      text-align: center;
      margin-top: 50px;
    }

    .timer {
      font-size: 2em;
      margin-bottom: 20px;
    }

    button {
      padding: 10px 20px;
      font-size: 1em;
      cursor: pointer;
      margin-right: 10px;
    }
  </style>
</head>

<body>

<div class="timer" id="timer1">0:00:00</div>
<button class="startBtn" data-timer="1">Start</button>
<button class="stopBtn" data-timer="1">Stop</button>
<button class="resetBtn" data-timer="1">Reset</button>

<div class="timer" id="timer2">0:00:00</div>
<button class="startBtn" data-timer="2">Start</button>
<button class="stopBtn" data-timer="2">Stop</button>
<button class="resetBtn" data-timer="2">Reset</button>

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="https://momentjs.com/downloads/moment.js"></script>
<script>
  $(document).ready(function () {
    const timers = [];

    function createTimer(timerId) {
      return {
        id: timerId,
        startTime: null,
        timerInterval: null,
        elapsedTime: 0,
      };
    }

    function getTimer(timerId) {
      return timers.find(timer => timer.id === timerId);
    }

    function updateTimer(timer) {
      const currentTime = moment();
      const duration = moment.duration(currentTime.diff(timer.startTime) + timer.elapsedTime, 'milliseconds');
      const formattedTime = moment.utc(duration.asMilliseconds()).format('H:mm:ss');
      $(`#timer${timer.id}`).text(formattedTime);
    }

    function startTimer(timerId) {
      const timer = getTimer(timerId);
      if (!timer.startTime) {
        timer.startTime = moment();
        timer.timerInterval = setInterval(() => updateTimer(timer), 1000);
      }
    }

    function stopTimer(timerId) {
      const timer = getTimer(timerId);
      if (timer.startTime) {
        clearInterval(timer.timerInterval);
        timer.elapsedTime += moment().diff(timer.startTime);
        timer.startTime = null;
      }
    }

    function resetTimer(timerId) {
      const timer = getTimer(timerId);
      clearInterval(timer.timerInterval);
      timer.startTime = null;
      timer.elapsedTime = 0;
      $(`#timer${timer.id}`).text('0:00:00');
    }

    $('.startBtn').click(function () {
      const timerId = $(this).data('timer');
      startTimer(timerId);
    });

    $('.stopBtn').click(function () {
      const timerId = $(this).data('timer');
      stopTimer(timerId);
    });

    $('.resetBtn').click(function () {
      const timerId = $(this).data('timer');
      resetTimer(timerId);
    });

    // Initialize timers
    for (let i = 1; i <= 2; i++) {
      timers.push(createTimer(i));
    }
  });
</script>

</body>

</html>
